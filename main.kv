#:kivy 1.0.9
#:import SwapTransition kivy.uix.screenmanager.SwapTransition




<ItemDrawer>:
    theme_text_color: "Custom"
    on_release:
        self.parent.set_color_item(self)

    IconLeftWidget:
        id: icon
        icon: root.icon
        theme_text_color: "Custom"
        text_color: root.text_color

<ShadowWidget>
    color: (1, 0, 0, 1)
    canvas.before:
        Color:
            rgba: 1,1,1,1
        Rectangle:
            size: self.shadow_size1
            pos: self.shadow_pos1
            texture: self.shadow_texture1
        Rectangle:
            size: self.shadow_size2
            pos: self.shadow_pos2
            texture: self.shadow_texture2
        Color:
            rgba: 1,1,1,1
        Rectangle:
            size: self.size
            pos: self.pos





<ContentNavigationDrawer>:
    orientation: "vertical"
    padding: "8dp"
    spacing: "8dp"

    AnchorLayout:
        anchor_x: "left"
        size_hint_y: None
        height: avatar.height

        Image:
            id: avatar
            size_hint: None, None
            size: "120dp", "120dp"
            source: "logo.png"

    MDLabel:
        text: "<Slogan Maybe?>"
        color: (0,0,0,0.7)
        font_style: "Button"
        size_hint_y: None
        height: self.texture_size[1]

    MDLabel:
        text: "https://www.tashira.nl"
        color: (0,0,0,0.7)
        font_style: "Caption"
        size_hint_y: None
        height: self.texture_size[1]
    ScrollView:
        pos_hint: {'top': 0}
        DrawerList:
            id: md_list



Screen:
    id: scr
    # Background
    canvas.before:
        Rectangle:
            pos: self.pos
            size: self.size
            source: 'lace_bg.png'
    # ---
    MDToolbar:
        pos_hint: {'top':1}

        title: sm.current
        md_bg_color: (.9,.7,.7,1)
        left_action_items: [['menu', lambda x: nav_drawer.set_state("toggle")]]

    NavigationLayout:

        ScreenManager:
            id: sm

            transition:
                SwapTransition()
            
            #screens from other .kv files, used here to add references from the main file
            # Home Screen
            Home_page:
                name: "Home"
                sm: sm

            # Gallery Screen
            Gallery_page:
                name: "Gallery"
                sm: sm                  
            
            # Camera Screen
            Camera_page:
                name: "Camera"
                sm: sm
            
            #Model Screen
            Main_Model_Page: 
                name: "Main_Model_Page"
                #add reference to screen manager, so that the seprate .kv file can reference it                
                sm: sm

            #Create Model Screen
            Create_model_page:
                name: "Create_model_page"
                sm: sm

            #File Chooser Screen
            Filechooser_Page:
                name: "Filechooser_Page"
                sm: sm

            # Assortment Screen
            Assortment_page:
                name: "Assortment"
                sm: sm

            # Settings Screen
            Screen:
                name: "Settings"
                BoxLayout:
                    orientation: 'vertical'
                                                   
            # Results Screen
            Detail_page:               
                name: "Result"
                sm: sm
                
        
            Screen:
                name: "Photo Info"
                size_hint_x: 0.9
                pos_hint: {'center_x':0.5}
                ShadowWidget:

                    size_hint_y: (0.5)
                    pos_hint: {'center_x':0.5, 'center_y':0.6}
                    elevation: 3
                Image:
                    pos_hint: {'center_x':0.5, 'center_y':0.6}
                    source: 'dress_pic3.jpg'

                MDLabel:
                    pos_hint: {'center_x':0.5, 'center_y':0.9}
                    text: "Filename: 'dress_pic3.jpg'"
                    color: (0,0,0,0.7)
                MDLabel:
                    pos_hint: {'center_x':0.5, 'center_y':0.875}
                    text: "Dimensions: 1600x1600'"
                    color: (0,0,0,0.7)
                MDIconButton:
                    icon: 'check-circle'
                    user_font_size: "64sp"
                    pos_hint: {'center_x':0.35, 'center_y':0.2}
                    on_release:
                        sm.current = 'Assortment'
                MDIconButton:
                    icon: 'close'
                    user_font_size: "64sp"
                    pos_hint: {'center_x':0.65, 'center_y':0.2}
                    on_release:
                        sm.current = 'Gallery'

            # Hardcoded, Fix later
            Screen:
                name: "Photo Info 2"
                size_hint_x: 0.9
                pos_hint: {'center_x':0.5}
                ShadowWidget:

                    size_hint_y: (0.5)
                    pos_hint: {'center_x':0.5, 'center_y':0.55}
                    elevation: 3
                Image:
                    pos_hint: {'center_x':0.5, 'center_y':0.55}
                    source: 'dress_pic4.jpg'

                MDLabel:
                    pos_hint: {'center_x':0.5, 'center_y':0.9}
                    text: "Filename: 'dress_pic4.jpg'"
                    color: (0,0,0,0.7)
                MDLabel:
                    pos_hint: {'center_x':0.5, 'center_y':0.875}
                    text: "Dimensions: 1600x1600'"
                    color: (0,0,0,0.7)
                MDIconButton:
                    icon: 'check-circle'
                    user_font_size: "64sp"
                    pos_hint: {'center_x':0.35, 'center_y':0.2}
                    on_release:
                        sm.current = 'Assortment'
                MDIconButton:
                    icon: 'close'
                    user_font_size: "64sp"
                    pos_hint: {'center_x':0.65, 'center_y':0.2}
                    on_release:
                        sm.current = 'Gallery'


        
        
        
        MDNavigationDrawer:
            id: nav_drawer

            ContentNavigationDrawer:
                id: content_drawer
